@import 'fonts.less';

.dexnav {
    border: 2px outset #600;
    background-color: #c00;
    box-shadow: 0 0 4px 4px #600 inset;
    font-size:10vh;
    color:white;
    position: fixed;
    overflow:hidden;
    left:0;
    top:0;
    bottom:0;
    right:0;
    pointer-events: none;
    user-select: none;

    &:before {
        opacity: 0;
        font-family:pokered;
        content:'# πµ';
        font-size:2.5em;
        padding-left:.2em;
        position: absolute;
        left:50%;
        top:50%;
        transform: translateX(-50%)translateY(-50%);
        z-index: 5;
        color:black;
        white-space: nowrap;
        transition: opacity 1s ease-in-out;
    }

    h3, h4 {
        position: absolute;
        z-index: 2;
        margin:0;
        font-weight: normal;
        padding: 5px;
        left:0;
        right:0;
        box-sizing: border-box;
        text-shadow: 1px 1px 0 black, -1px 1px 0 black, 1px -1px 0 black, -1px -1px 0 black;

    }

    h3 {
        top:0;
        font-family: pokered;
        background-image: radial-gradient(farthest-side at top left,black 0%, rgba(0,0,0,.5) 60%, rgba(0,0,0,0) 100%);
        padding-bottom:.5em;

        &:before {
            content:'{';
            margin-right:.5em;
        }
    }

    h4 {
        bottom:0;
        font-family: pokeplatinum;
        background-image: radial-gradient(farthest-side at bottom right,black 0%, rgba(0,0,0,.5) 60%, rgba(0,0,0,0) 100%);
        text-align: right;
        font-size: 1.5em;
    }

    .encounters {
        border: 2px inset #600;
        box-shadow: 0 0 4px 4px #600;
        background-color: darkolivegreen;
        box-sizing: border-box;
        padding:2px;
        overflow: hidden;
        color:black;
        position: absolute;
        overflow: hidden;
        left: 1em;
        top: 1em;
        bottom: 1em;
        right: 1em;
        display:flex;
        flex-flow: row nowrap;
        align-items: center;
        transition: background-color 4s ease-in-out;

        .encounter-group {
            display:flex;
            flex-flow: row nowrap;
            align-items: center;
            height:100%;
            animation: scroll-forever 30s infinite;
            animation-timing-function: linear;
            transition: opacity 4s ease-in-out;

            span {
                flex:0 0 auto;
                padding:0;
                transform: translateX(50%);
                height:100%;
                transition: filter 1s ease-in-out;
                
                &.seen img {
                    filter:contrast(0%) brightness(0%);
                    // animation: stretch-in 10s 1;
                    // animation-timing-function: linear;
                }

                img {
                    image-rendering: pixelated;
                    height:100%;
                }
            }
        }
    }

    &.no-encounters {

        &:before {
            opacity: 1;
        }

        .encounters {
            background-color:#666;
            transition: background-color 1s ease-in-out;

            .encounter-group {
                opacity: 0;
                transition:none;
            }
        }
    }

}

@keyframes scroll-forever {
    0% {
        transform: translateX(-50%);
    }
    100% {
        transform: translateX(-150%);
    }
}

@keyframes stretch-in {
    0% {
        max-width:0;
    }
    100% {
        max-width:100%;
    }
}